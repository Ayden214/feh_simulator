{% extends "base.html" %}
{% set weapon_types = [
  'Sword', 'Lance', 'Axe', 'Staff',
  'RedBow', 'BlueBow', 'GreenBow', 'ColorlessBow',
  'RedDagger', 'BlueDagger', 'GreenDagger', 'ColorlessDagger',
  'RedTome', 'BlueTome', 'GreenTome', 'ColorlessTome',
  'RedBeast', 'BlueBeast', 'GreenBeast', 'ColorlessBeast',
  'RedBreath', 'BlueBreath', 'GreenBreath', 'ColorlessBreath'
] %}
{% block content %}
<h1>Edit Unit: {{ unit.name }}</h1>
<form method="POST">
  <label for="name">Name:</label>
  <input name="name" value="{{ unit.name }}" required>
  <label for="hp">HP:</label>
  <input name="hp" type="number" value="{{ unit.hp }}" required>
  <label for="atk">Atk:</label>
  <input name="atk" type="number" value="{{ unit.atk }}" required>
  <label for="spd">Spd:</label>
  <input name="spd" type="number" value="{{ unit.spd }}" required>
  <label for="defense">Def:</label>
  <input name="defense" type="number" value="{{ unit.defense }}" required>
  <label for="res">Res:</label>
  <input name="res" type="number" value="{{ unit.res }}" required>
  <label for="superboons">Superboons (comma separated):</label>
  <input name="superboons" value="{{ unit.superboons }}">
  <label for="superbanes">Superbanes (comma separated):</label>
  <input name="superbanes" value="{{ unit.superbanes }}">
  <label for="exclusive_skills">Exclusive Skills (comma separated):</label>
  <input name="exclusive_skills" value="{{ unit.exclusive_skills }}">
  <label for="image_url">Image URL:</label>
  <input name="image_url" value="{{ unit.image_url }}">
  <label for="unit_type">Movement Type:</label>
  <select name="unit_type" id="unit_type">
    <option value="Infantry" {% if unit.unit_type == 'Infantry' %}selected{% endif %}>Infantry</option>
    <option value="Armor" {% if unit.unit_type == 'Armor' %}selected{% endif %}>Armor</option>
    <option value="Cavalry" {% if unit.unit_type == 'Cavalry' %}selected{% endif %}>Cavalry</option>
    <option value="Flier" {% if unit.unit_type == 'Flier' %}selected{% endif %}>Flier</option>
  </select>
  <label for="weapon_type">Weapon Type:</label>
  <select name="weapon_type" id="weapon_type">
    {% for wt in weapon_types %}
    <option value="{{ wt }}" {% if unit.weapon_type == wt %}selected{% endif %}>{{ wt.replace('Bow',' Bow').replace('Dagger',' Dagger').replace('Tome',' Tome').replace('Beast',' Beast').replace('Breath',' Breath') }}</option>
    {% endfor %}
  </select>
  <button type="submit">Save Changes</button>
</form>
<form method="POST" action="/admin/delete/unit/{{ unit.name }}" style="margin-top:16px;">
  <button type="submit" style="background-color:#c00;color:#fff;">Delete Unit</button>
</form>
<a href="/admin/units">Back to Unit List</a>
{% endblock %}
